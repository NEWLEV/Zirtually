import{u as y,M as N,U as i,a as f,b as v,c as k,d as w,e as g,j as e,C as n,B as x,f as j}from"./index-jXBNcpIP.js";import{P as A}from"./ProgressBar-fP59PQhY.js";const m=({title:t,value:p,subtitle:o,trend:a,trendValue:r,color:h})=>{const c={indigo:"from-action-secondary to-action-secondary/80",emerald:"from-status-success to-status-success/80",amber:"from-status-warning to-status-warning/80",violet:"from-action-primary to-action-primary/80",rose:"from-status-error to-status-error/80",cyan:"from-focus-ring to-focus-ring/80"};return e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-bg-elevated dark:bg-dark-card p-6 shadow-sm border border-border-light dark:border-dark-border transition-colors duration-200",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${c[h]||c.indigo} opacity-10 rounded-full -translate-y-8 translate-x-8`}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{className:"text-sm font-medium text-text-tertiary dark:text-dark-text-secondary",children:t}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[e.jsx("p",{className:"text-3xl font-bold text-text-primary dark:text-dark-text",children:p}),a&&r&&e.jsxs("span",{className:`inline-flex items-center text-sm font-medium ${a==="up"?"text-status-success":a==="down"?"text-status-error":"text-text-tertiary"}`,children:[a==="up"?"↑":a==="down"?"↓":"→"," ",r]})]}),e.jsx("p",{className:"text-sm text-text-tertiary dark:text-dark-text-secondary mt-1",children:o})]})]})},M=({user:t})=>{const{config:p}=y(),o=N.filter(s=>s.owner===t.id||s.isTeamGoal&&t.role!==i.STAFF),a=5,r=f.filter(s=>s.type==="Mandatory"&&!s.completed).length,h=f.filter(s=>s.completed).reduce((s,u)=>s+u.points,0),c=v.filter(s=>s.status==="pending").length,b=k.map(s=>({...s,employee:w.find(u=>u.id===s.employeeId)})),l=g.find(s=>s.name==="Employee Satisfaction"),d=g.find(s=>s.name==="Retention Rate");return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-text-primary dark:text-dark-text",children:["Welcome back, ",t.name.split(" ")[0]]}),e.jsxs("p",{className:"text-text-secondary dark:text-dark-text-secondary mt-1",children:["Here's what's happening with your ",p.terminology.workspace.toLowerCase()," today."]})]}),t.isNewHire&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-action-primary to-action-secondary rounded-full text-text-inverse text-sm font-medium shadow-lg shadow-action-primary/20",children:[e.jsx("span",{className:"animate-pulse",children:"●"}),"Day"," ",Math.ceil((Date.now()-new Date(t.startDate||Date.now()).getTime())/(1e3*60*60*24))," ","of your journey"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(m,{title:"Pending Tasks",value:a,subtitle:"Due this week",color:"indigo"}),e.jsx(m,{title:"Training Status",value:r>0?r:"✓",subtitle:r>0?"Modules pending":"All complete",color:r>0?"amber":"emerald"}),e.jsx(m,{title:"Active Goals",value:o.length,subtitle:"In progress",color:"violet"}),e.jsx(m,{title:"Learning Points",value:h,subtitle:"Total earned",color:"cyan"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Goals Progress"}),e.jsx(x,{variant:"ghost",size:"sm",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:o.slice(0,4).map(s=>e.jsxs("div",{className:"p-4 rounded-xl bg-bg-secondary dark:bg-dark-card border border-border-light dark:border-dark-border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:s.title}),s.isTeamGoal&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-action-secondary/10 text-action-secondary border border-action-secondary/20 rounded-full",children:"Team"})]}),e.jsx("p",{className:"text-sm text-text-tertiary dark:text-dark-text-secondary mt-1 line-clamp-1",children:s.description})]}),e.jsxs("span",{className:"text-lg font-bold",style:{color:"var(--color-primary)"},children:[s.progress,"%"]})]}),e.jsx(A,{progress:s.progress})]},s.id))})]}),[i.MANAGER,i.ADMIN].includes(t.role)&&e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Team Analytics"}),e.jsx(x,{variant:"ghost",size:"sm",children:"Full Report"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-status-success-bg dark:bg-status-success/10 border border-status-success/20",children:[e.jsx("p",{className:"text-sm font-bold text-status-success",children:"Team Satisfaction"}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[e.jsx("span",{className:"text-3xl font-bold text-text-primary dark:text-dark-text",children:l==null?void 0:l.value}),e.jsx("span",{className:"text-lg text-text-tertiary",children:"/5"})]}),e.jsxs("p",{className:"text-xs text-status-success mt-1 font-medium",children:["↑ from ",l==null?void 0:l.previousValue," last quarter"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-status-info-bg dark:bg-status-info/10 border border-status-info/20",children:[e.jsx("p",{className:"text-sm font-bold text-status-info",children:"Retention Rate"}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[e.jsx("span",{className:"text-3xl font-bold text-text-primary dark:text-dark-text",children:d==null?void 0:d.value}),e.jsx("span",{className:"text-lg text-text-tertiary",children:"%"})]}),e.jsxs("p",{className:"text-xs text-status-info mt-1 font-medium",children:["↑ from ",d==null?void 0:d.previousValue,"% last quarter"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[[i.MANAGER,i.ADMIN].includes(t.role)&&e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Nudges"}),e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-action-primary/10 text-action-primary text-xs font-semibold rounded-full border border-action-primary/20",children:[e.jsx("span",{className:"w-2 h-2 bg-action-primary rounded-full animate-pulse"}),"AI Powered"]})]}),e.jsx("div",{className:"space-y-3",children:b.map(s=>s.employee&&e.jsx("div",{className:"p-3 rounded-xl bg-bg-secondary dark:bg-dark-card border border-border-light dark:border-dark-border",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:s.employee.avatarUrl,alt:s.employee.name,className:"w-10 h-10 rounded-xl object-cover ring-2 ring-action-primary/20"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-text-primary dark:text-dark-text",children:s.title}),e.jsx("p",{className:"text-xs text-text-tertiary dark:text-dark-text-secondary mt-0.5 line-clamp-2",children:s.details}),e.jsx(x,{variant:"ghost",size:"sm",className:"mt-2 h-7 px-2",children:s.action})]})]})},s.id))})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary dark:text-dark-text",children:"Announcements"}),e.jsxs("span",{className:"text-xs text-text-tertiary dark:text-dark-text-secondary",children:[j.length," new"]})]}),e.jsx("div",{className:"space-y-4",children:j.slice(0,3).map(s=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-1 h-full min-h-[60px] rounded-full ${s.priority==="important"?"bg-status-warning":s.priority==="urgent"?"bg-status-error":"bg-border-medium"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-bold text-text-primary dark:text-dark-text group-hover:text-action-primary transition-colors",children:s.title}),e.jsx("p",{className:"text-xs text-text-tertiary dark:text-dark-text-secondary mt-1 line-clamp-2",children:s.content}),e.jsxs("p",{className:"text-xs text-text-tertiary/50 dark:text-dark-text-secondary/50 mt-2",children:[s.author," • ",s.date]})]})]})},s.id))})]}),c>0&&[i.MANAGER,i.ADMIN].includes(t.role)&&e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-text-primary dark:text-dark-text",children:"Time Off Requests"}),e.jsxs("span",{className:"px-2 py-1 bg-status-warning-bg text-status-warning text-xs font-bold rounded-full border border-status-warning/20",children:[c," pending"]})]}),e.jsx("p",{className:"text-sm text-text-tertiary dark:text-dark-text-secondary mt-2",children:"You have pending time off requests to review."}),e.jsx(x,{variant:"secondary",size:"sm",className:"mt-4 w-full",children:"Review Requests"})]})]})]})]})};export{M as default};
