import{u as N,M as v,U as i,a as f,b as k,c as w,d as A,e as j,r as T,j as e,C as c,B as m,f as g}from"./index-BhnCGazT.js";import{P as R}from"./ProgressBar-B3LiunaO.js";const p=({title:s,value:h,subtitle:x,trend:a,trendValue:r,color:u})=>{const n={indigo:"from-action-secondary to-action-secondary/80",emerald:"from-status-success to-status-success/80",amber:"from-status-warning to-status-warning/80",violet:"from-action-primary to-action-primary/80",rose:"from-status-error to-status-error/80",cyan:"from-focus-ring to-focus-ring/80"};return e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-bg-elevated dark:bg-dark-card p-6 shadow-sm border border-border-light dark:border-dark-border transition-colors duration-200",children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${n[u]||n.indigo} opacity-10 rounded-full -translate-y-8 translate-x-8`}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{className:"text-sm font-medium text-text-tertiary dark:text-dark-text-secondary",children:s}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[e.jsx("p",{className:"text-3xl font-bold text-text-primary dark:text-dark-text",children:h}),a&&r&&e.jsxs("span",{className:`inline-flex items-center text-sm font-medium ${a==="up"?"text-status-success":a==="down"?"text-status-error":"text-text-tertiary"}`,children:[a==="up"?"↑":a==="down"?"↓":"→"," ",r]})]}),e.jsx("p",{className:"text-sm text-text-tertiary dark:text-dark-text-secondary mt-1",children:x})]})]})},C=({user:s})=>{const{config:h}=N(),x=v.filter(t=>t.owner===s.id||t.isTeamGoal&&s.role!==i.STAFF),a=5,r=f.filter(t=>t.type==="Mandatory"&&!t.completed).length,u=f.filter(t=>t.completed).reduce((t,o)=>t+o.points,0),n=k.filter(t=>t.status==="pending").length,y=w.map(t=>({...t,employee:A.find(o=>o.id===t.employeeId)})),l=j.find(t=>t.name==="Employee Satisfaction"),d=j.find(t=>t.name==="Retention Rate"),b=T.useMemo(()=>{if(!s.startDate)return 0;const t=new Date(s.startDate).getTime(),o=new Date().setHours(0,0,0,0);return Math.ceil((o-t)/(1e3*60*60*24))},[s.startDate]);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-text-primary dark:text-dark-text",children:["Welcome back, ",s.name.split(" ")[0]]}),e.jsxs("p",{className:"text-text-secondary dark:text-dark-text-secondary mt-1",children:["Here's what's happening with your ",h.terminology.workspace.toLowerCase()," ","today."]})]}),s.isNewHire&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-action-primary to-action-secondary rounded-full text-text-inverse text-sm font-medium shadow-lg shadow-action-primary/20",children:[e.jsx("span",{className:"animate-pulse",children:"●"}),"Day ",b," of your journey"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(p,{title:"Pending Tasks",value:a,subtitle:"Due this week",color:"indigo"}),e.jsx(p,{title:"Training Status",value:r>0?r:"✓",subtitle:r>0?"Modules pending":"All complete",color:r>0?"amber":"emerald"}),e.jsx(p,{title:"Active Goals",value:x.length,subtitle:"In progress",color:"violet"}),e.jsx(p,{title:"Learning Points",value:u,subtitle:"Total earned",color:"cyan"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(c,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Goals Progress"}),e.jsx(m,{variant:"ghost",size:"sm",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:x.slice(0,4).map(t=>e.jsxs("div",{className:"p-4 rounded-xl bg-bg-secondary dark:bg-dark-card border border-border-light dark:border-dark-border",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.title}),t.isTeamGoal&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-action-secondary/10 text-action-secondary border border-action-secondary/20 rounded-full",children:"Team"})]}),e.jsx("p",{className:"text-sm text-text-tertiary dark:text-dark-text-secondary mt-1 line-clamp-1",children:t.description})]}),e.jsxs("span",{className:"text-lg font-bold",style:{color:"var(--color-primary)"},children:[t.progress,"%"]})]}),e.jsx(R,{progress:t.progress})]},t.id))})]}),[i.MANAGER,i.ADMIN].includes(s.role)&&e.jsxs(c,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Team Analytics"}),e.jsx(m,{variant:"ghost",size:"sm",children:"Full Report"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-status-success-bg dark:bg-status-success/10 border border-status-success/20",children:[e.jsx("p",{className:"text-sm font-bold text-status-success",children:"Team Satisfaction"}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[e.jsx("span",{className:"text-3xl font-bold text-text-primary dark:text-dark-text",children:l==null?void 0:l.value}),e.jsx("span",{className:"text-lg text-text-tertiary",children:"/5"})]}),e.jsxs("p",{className:"text-xs text-status-success mt-1 font-medium",children:["↑ from ",l==null?void 0:l.previousValue," last quarter"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-status-info-bg dark:bg-status-info/10 border border-status-info/20",children:[e.jsx("p",{className:"text-sm font-bold text-status-info",children:"Retention Rate"}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[e.jsx("span",{className:"text-3xl font-bold text-text-primary dark:text-dark-text",children:d==null?void 0:d.value}),e.jsx("span",{className:"text-lg text-text-tertiary",children:"%"})]}),e.jsxs("p",{className:"text-xs text-status-info mt-1 font-medium",children:["↑ from ",d==null?void 0:d.previousValue,"% last quarter"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[[i.MANAGER,i.ADMIN].includes(s.role)&&e.jsxs(c,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Nudges"}),e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-action-primary/10 text-action-primary text-xs font-semibold rounded-full border border-action-primary/20",children:[e.jsx("span",{className:"w-2 h-2 bg-action-primary rounded-full animate-pulse"}),"AI Powered"]})]}),e.jsx("div",{className:"space-y-3",children:y.map(t=>t.employee&&e.jsx("div",{className:"p-3 rounded-xl bg-bg-secondary dark:bg-dark-card border border-border-light dark:border-dark-border",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:t.employee.avatarUrl,alt:t.employee.name,className:"w-10 h-10 rounded-xl object-cover ring-2 ring-action-primary/20"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-text-primary dark:text-dark-text",children:t.title}),e.jsx("p",{className:"text-xs text-text-tertiary dark:text-dark-text-secondary mt-0.5 line-clamp-2",children:t.details}),e.jsx(m,{variant:"ghost",size:"sm",className:"mt-2 h-7 px-2",children:t.action})]})]})},t.id))})]}),e.jsxs(c,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary dark:text-dark-text",children:"Announcements"}),e.jsxs("span",{className:"text-xs text-text-tertiary dark:text-dark-text-secondary",children:[g.length," new"]})]}),e.jsx("div",{className:"space-y-4",children:g.slice(0,3).map(t=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-1 h-full min-h-[60px] rounded-full ${t.priority==="important"?"bg-status-warning":t.priority==="urgent"?"bg-status-error":"bg-border-medium"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-bold text-text-primary dark:text-dark-text group-hover:text-action-primary transition-colors",children:t.title}),e.jsx("p",{className:"text-xs text-text-tertiary dark:text-dark-text-secondary mt-1 line-clamp-2",children:t.content}),e.jsxs("p",{className:"text-xs text-text-tertiary/50 dark:text-dark-text-secondary/50 mt-2",children:[t.author," • ",t.date]})]})]})},t.id))})]}),n>0&&[i.MANAGER,i.ADMIN].includes(s.role)&&e.jsxs(c,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-text-primary dark:text-dark-text",children:"Time Off Requests"}),e.jsxs("span",{className:"px-2 py-1 bg-status-warning-bg text-status-warning text-xs font-bold rounded-full border border-status-warning/20",children:[n," pending"]})]}),e.jsx("p",{className:"text-sm text-text-tertiary dark:text-dark-text-secondary mt-2",children:"You have pending time off requests to review."}),e.jsx(m,{variant:"secondary",size:"sm",className:"mt-4 w-full",children:"Review Requests"})]})]})]})]})};export{C as default};
